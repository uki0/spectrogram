#音声データの時系列フーリエ変換  

このプログラムは，入力された音声データ波形と，それのある時間における周波数分布が再生時間によって変化する様子を表します．  
また，それの時間平均をとって，全体を通した周波数分布についても表示します．  

解析は大まかに，まず得られたデータを時間について分割(フレームを作成)します．n番目のフレームをn+1番目のフレームと重ねる(オーバーラップする)ことを想定しています．  
(nはじめ < n+1はじめ　< n終わり < n+1終わり, n終わり　-　nはじめ = n+1終わり　-　n+1はじめ)  
次に各フレームごとにハニング窓関数をかけ，フーリエ変換をかけます．  
ここまででできた3次元情報(時間-周波数-強度)の関係をスペクトログラムで表示します．  
更に，時間全域についての周波数-強度分布，その平均を計算し，グラフで表示します．  

解析する音声ファイル(wave)を /spectrogram/file_name.wave のように配置してください．  
出力画像は同ディレクトリ内に保存されます．  

####以下の条件を設定してください  
1. 入力ファイル名の指定  
/spectrogram/main_spectrogram.py 11行目  
例(file_name.wave)  
```python
path = 'file_name.wav'
```

2. フーリエ変換の際のフレームサイズと，フレームのオーバーラップ率を指定  
/spectrogram/main_spectrogram.py 17,18行目  
例    
```python
# Fsとoverlapでスペクトログラムの分解能を調整する。
Fs = 4096                                   # フレームサイズ
overlap = 75                                # オーバーラップ率
```

3. 作成したデータを描写するグラフのスケールを設定  
/spectrogram/main_spectrogram.py 81~84行目  
例(0secから(400-50)secまでを表示し，50secごとに目盛りを表示する)  
```python
# スケール設定
#入力波形のグラフ
ax.set_xticks(np.arange(0, 400, 50))
plt.xlim(0, 400)
#スペクトログラム
ax1.set_xticks(np.arange(0, 400, 50))
plt.xlim(0, 400)
```

4. 出力画像の名前.拡張子，解像度指定  
/spectrogram/main_spectrogram.py 106行目  
例
```python
#グラフ画像保存
fig.savefig("600dpi_fft_array.png",format="png", dpi=600)
```


設定できたら，  
 *main_spectrogram.py*  
を実行してください．  
